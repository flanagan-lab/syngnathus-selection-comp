---
title: "Bootstrapping selection estimates"
output: 
  github_document:
    toc: true
header-includes: >
  \usepackage{lipsum}
  \usepackage{float}
  \floatplacement{figure}{H}
editor_options:
  chunk_output_type: console
always_allow_html: true
---

```{r setup, include=FALSE}
knitr::opts_knit$set(root.dir='../',
                     fig_path="../figs/")
```

``` {r library, message = FALSE, warning = FALSE}
#This is a cohesive list of all the libraries used in this document
library(knitr)

```

```{r load-functions}
source("R/partition_fem_I.R")
source("R/partition_mal_I.R")
```


## Read in the datasets

``` {r read-floridae-data, message = FALSE, warning = FALSE}
fem_succFL <- read.csv("data/floridae_fem_succ.csv")
mal_succFL <- read.csv("data/floridae_mal_succ.csv")
```


## Opportunity for selection


```{r}
### Dummy code

means <- NULL
for(i in 1:num_bootstraps){
  all_i <- NULL
  for(t in unique(fem_succFL$trial_num)){
    this_trial<-dat[dat$trial %in% t,]
    resamp <- dat[sample(1:nrow(this_trial), nrow(this_trial), replace=TRUE),]
    all_i <- list(all_i, partition_i(resamp)) # where partition_i is the function with the code from today
  }
  # calculate means of partitioned I
  means<-c(means, mean(all_i)) #(note: I know this is not correct format based on what I've dummy coded, but I can't be bothered)
}

# calc 95% CI from the means from all bootstraps


```

